foreign func calloc(_: Int, _: Int) -> *Int8

type Instruction {
  var operator: Int8;
  var operand: Int;

  func dump() {
    printf("operator: '%c' - operand: '%d'\n", self.operator, self.operand);
  }
}

func main() {
  var program = calloc(100, sizeof(Instruction)) as *Instruction;
  for var i = 0; i < 100; i += 1 {
    program[i] = Instruction(operator: '+', operand: 100);
  }
  for var i = 0; i < 100; i += 1 {
    program[i].dump();
  }
  free(program as *Int8);
}
